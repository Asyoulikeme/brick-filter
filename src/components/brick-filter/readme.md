# é¢„è§ˆ



å¤§å®¶å¥½ï¼Œæˆ‘åˆæ¥å‘ä¸œè¥¿æ¥å— æ‰¹æ–— äº†ï¼ï¼ï¼

æ‰¹æ–—å°±æ˜¯å¯¹ä¸æ»¡æ„çš„äººæˆ–äº‹ï¼Œç»è¿‡å¤§å®¶çš„å…è®¸ï¼Œå…±åŒæŠŠé”™è¯¯çš„åœ°æ–¹æŒ‡å‡ºæ¥ï¼Œç„¶åæ‘†åœ¨å°é¢ä¸Šå¤§å®¶ä¸€èµ·å¯¹è¿™ä¸ªäººæˆ–äº‹è¿›è¡Œæ‰¹è¯„ã€‚ä¸æ‰¹è¯„ä¸åŒçš„æ˜¯ï¼Œæ‰¹è¯„å¯ä»¥åœ¨æ²¡äººçš„åœ°æ–¹å•ç‹¬è®­è¯ï¼Œä½†æ‰¹æ–—ä¸€å®šè¦åœ¨æ˜¾è¦çš„åœ°æ–¹ï¼Œè€Œä¸”ä¸€å®šè¦å¤§å¤šæ•°çš„äººçŸ¥é“ã€‚â€œæ‰¹æ–—â€æ˜¯ä¸­å›½æœ¯è¯­ï¼Œè¿™åœ¨ä¸­å›½æ–‡åŒ–å¤§é©å‘½ä¸­å¾ˆé²œæ˜çš„æ˜¾ç°å‡ºæ¥ï¼Œå°”åå°±å¾ˆå°‘æœ‰äººå†ç”¨è¿™è¯äº†ï¼



é¢„è§ˆï¼šä½ å¯ä»¥ç‹ ç‹ çš„ [ç‚¹å‡»è¿™é‡Œ](http://118.89.138.33:8080/)-- [ğŸ‘ˆ](https://www.yuque.com/backhand-index-pointing-left/)[ğŸ‘ˆ](https://www.yuque.com/backhand-index-pointing-left/)[ğŸ‘ˆ](https://www.yuque.com/backhand-index-pointing-left/)  æœ¬æ¬¡é¢„è§ˆæ²¡åŠ¨æ€æ•°æ®ï¼Œæ˜¯å› ä¸ºæœ¬æ¬¡è¦å¼€åå°è¯·æ±‚ï¼Œæˆ‘åå°è¯·æ±‚ç”¨nodeå†™çš„ï¼ŒæœåŠ¡å™¨å¤ªå¡è¿ä¸ªnode éƒ½è£…äº†ä¸çˆ½ï¼Œæ²¡ç”¨json å»åš fetchï¼Œå› ä¸ºä¸å–œæ¬¢mock ã€‚



åœ¨çº¿ç¼–è¾‘æ–‡æ¡£ï¼šhttp://medusa.xsyxsc.com/dev/tiance/0.5.0#/zed/business/BrickFilter

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1598088679319-558e1791-4d30-4c57-8b5a-820492841901.png?x-oss-process=image%2Fresize%2Cw_1500)



**å¤§å±å®½ï¼š**

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1603856418725-1c5d094f-7c00-47be-aab1-17d7b5c17ecd.png?x-oss-process=image%2Fresize%2Cw_1500)

**ä¸­å±å®½ï¼š**

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1603856627588-54a6cfe6-9326-4158-88f5-10903a5e29fa.png)

**å°å±å®½ï¼š**

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1603856647382-9a043e4e-e93c-40f9-b7f4-3f602dc6c80a.png)



## é—²è¯

å›é¡¾å‰ç«¯å‘å±• æ•°æ®å˜è§†å›¾ é˜¶æ®µï¼š

1. Dom æ³•
2. æ•°ç»„ join æ³•
3. ES6 åå¼•å·
4. æ¨¡æ¿å¼•æ“ + ç»„ä»¶ ... 

æˆ‘ä»¬å¤„åœ¨ç¬¬å››æœ€æ–°é˜¶æ®µï¼Œä½†æ˜¯è¿˜æ˜¯å…ä¸äº†è¦å†™å¸ƒå±€ï¼Œå†™htmlæ ‡ç­¾ ï¼Œè¿‘å¹´æ¥çš„åŠ¿å¤´ä¹Ÿæœ‰å¯è§†åŒ–æ­å»ºï¼Œå°†schemaæ•°æ®æè¿°ä¸ºä¸€ä¸ªè§†å›¾ï¼Œæœ¬ç»„ä»¶ä¹Ÿæ˜¯å—åˆ°å¯å‘è€Œè¯ç”Ÿã€‚ä¸­åå°è¡¨å•æŸ¥è¯¢é¡µé¢è¿˜æ˜¯æŒºå¤šçš„ï¼Œå°±è´Ÿè´£å¼„äº†ä¸€ä¸ªfilterè¡¨å•ç»„ä»¶ï¼Œé€šè¿‡é…ç½®æ•°æ®çš„æ–¹å¼å†™é€»è¾‘ã€‚

## ç‰¹è‰²

- Vue2 latest  + Element ui v2.14.1
- æ ·å¼çº¦æŸã€æ”¯æŒè·¨åˆ—å¯¹é½ã€è¡¨å•å¸¸ç”¨å±æ€§çº¦æŸ
- æ”¯æŒä¿®æ”¹é»˜è®¤çº¦æŸã€å±æ€§é€ä¼ 
- æ”¯æŒè‡ªå®šä¹‰ç»„ä»¶ä¼ å…¥
- ä½¿ç”¨promise æ–¹å¼ç®¡ç† ä¸‹æ‹‰æ¡†çŠ¶æ€
- å¯¹rangeç±»å‹çš„è¡¨å•æœ‰ä¸°å¯Œå¯ç”¨åŠŸèƒ½ï¼Œè§£å†³é»˜è®¤å€¼æ˜¯[ ] çš„ä¸šåŠ¡ç—›ç‚¹
- ä½¿ç”¨ renderå‡½æ•°åˆ©äºæ‰©å±•å…¶å®ƒè¡¨å•ç±»å‹
- æ”¯æŒå¯¹å¤–æ‰©å±•ã€‚

# Filter ç»„ä»¶

## å®‰è£…

```
cnpm i @xsyx/brick-filter -S
```

## å¼•å…¥

å…¨å±€ä½¿ç”¨ï¼šæ¨èåœ¨ç»å¸¸èƒ½ç”¨åˆ°æ­¤ç»„ä»¶çš„æ—¶å€™ä½¿ç”¨

```
import BrickFilter from "@xsyx/brick-filter"

Vue.use(BrickFilter);
```

å±€éƒ¨ä½¿ç”¨ï¼š

```
import { BrickFilter } from "@xsyx/brick-filter"
```

## é€‚ç”¨åœºæ™¯æè¿°



æœ¬ç»„ä»¶æä¾›é…ç½®åŒ–çš„ Form ç”Ÿæˆï¼Œæ— éœ€å†ä¹¦å†™ template , é€‚ç”¨äºè¡¨å•æŸ¥è¯¢åŒºåŸŸçš„è”åŠ¨æ€§ä¸å¼ºçš„æƒ…å†µã€‚



> å¦‚æœåœºæ™¯ä¸­æœ‰éœ€è¦è”åŠ¨ï¼Œè¯·ç§»æ­¥è‡³ [è”åŠ¨ä»‹ç»](#è”åŠ¨ä»‹ç»)



```
<brick-filter :view-brick="filterView" />
```



## Attribute

| å±æ€§åç§°   | è¯´æ˜                         | ç±»å‹  | é»˜è®¤å€¼ |
| ---------- | ---------------------------- | ----- | ------ |
| view-brick | è¡¨å•é¡¹é…ç½®                   | Array | æ—      |
| ref        | é€šè¿‡ref è·å–æœ¬ç»„ä»¶çš„ methods |       |        |



- view-brick çš„æƒ…å†µè¯·è·³è½¬è‡³ [View-Brick](#View-Brick) æŸ¥çœ‹



## Event

| äº‹ä»¶åç§°        | è¯´æ˜                                                         | å›è°ƒå‚æ•°            |
| --------------- | ------------------------------------------------------------ | ------------------- |
| change          | ä»»æ„å“åº”å¼æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘                                 | ( context ) => {  } |
| query           | ç‚¹å‡» "æŸ¥è¯¢" æŒ‰é’®è§¦å‘çš„å›è°ƒ                                   | ( data ) => {  }    |
| allDone         | Optionsçš„è¿œç¨‹æ•°æ®PromiseçŠ¶æ€ä¸º rejected \| rulfilledï¼Œå¹¶ä¸”è¡¨å•å…¨éƒ¨æ¸²æŸ“å®Œæ¯•æ—¶è§¦å‘ï¼Œï¼ˆç§¯æçš„ï¼‰ | ( filter) => {  }   |
| negativeAllDone | Optionsçš„è¿œç¨‹æ•°æ®PromiseçŠ¶æ€ä¸º fulfilledï¼Œå¹¶ä¸”è¡¨å•å…¨éƒ¨æ¸²æŸ“å®Œæ¯•æ—¶è§¦å‘ï¼Œï¼ˆæ¶ˆæçš„ï¼‰ | ( filter) => {  }   |



## Methods

| æ–¹æ³•åç§°          | è¯´æ˜                                                     | å‚æ•°                                  |
| ----------------- | -------------------------------------------------------- | ------------------------------------- |
| getOptionsMap     | è·å–selectã€checkboxGroupã€radioGroupçš„ options æ•°æ®     | Function(key?:string):array \| object |
| setOptionsMap     | è®¾ç½®selectã€checkboxGroupã€radioGroupçš„ options æ•°æ®     | Function(key?:string,value?:any):void |
| setReactiveFilter | æ˜¾å¼çš„ç»™ filter çš„å±æ€§èµ‹å€¼ï¼Œæ³¨æ„æ˜¯å“åº”å¼ï¼Œå†…éƒ¨ä¼šæ”¶åˆ°æ›´æ”¹ | Function(key?:string,value?:any):void |
| getReactiveFilter | æ˜¾å¼çš„è·å– filter å¯¹è±¡ï¼Œæ³¨æ„è·å–åˆ°çš„æ˜¯å“åº”å¼çš„filter     | Function():object                     |
| getQueryParams    | æ˜¾å¼çš„è·å– filter å¯¹è±¡ï¼Œå†…éƒ¨çš„éå“åº”å¼å¯¹è±¡çš„æ‹·è´         | Function():object                     |



## Filter åŸºæœ¬ç”¨æ³•



æŸ¥è¯¢æ•°æ®ï¼Œæä¾›`query` å›è°ƒè‡ªè¡Œå¤„ç†

```js
<template>
  <div id="app">
    <brick-filter
      ref="amaz-filter"
      :view-brick="filterView"
      @change="handleChange"
      @query="handleQuery"
      @allDone="handleAllDone"
      @negativeAllDone="negativeAllDone"
    >
    </brick-filter>
  </div>
</template>
<script>
import BrickFilter from "./components/brick-filter";
import viewConfig from "./viewConfig";
export default {
  name: "App",
  components: {
    BrickFilter
  },
  data() {
    return {
      filterView: viewConfig,
    };
  },
  methods: {
    handleChange({key, newval, oldval,filter}) {
      console.table([
        `å½“å‰å˜æ›´çš„å­—æ®µä¸º${key}`,
        `å½“å‰å€¼ä¸º ${newval}`,
        `æ—§çš„å€¼ä¸º ${oldval}`
      ]);
    },
    handleQuery(data) {
      console.log(data);
    },
     handleAllDone(filter) {
       /* ç§¯æçš„ all Done äº‹ä»¶ï¼Œè¡¨å•æ¸²æŸ“å®Œæˆï¼Œå¹¶ä¸”æ‰˜ç®¡ç»™è¡¨å•çš„æ‰€ä»¥optionsçš„è¯·æ±‚éƒ½ 
       fulfilled æˆ– rejected å°±ä¼šè§¦å‘*/
      let maps = this.$refs["amaz-filter"].getOpionsMap()
      filter.vendorCity.push(maps.vendorCity[0].value) 
    },
    negativeAllDone(filter){
        // æ¶ˆæçš„ all Doneäº‹ä»¶ï¼Œè¡¨å•æ¸²æŸ“å®Œæˆï¼Œå¹¶ä¸”éå¾—æ‰€æœ‰çš„è¯·æ±‚éƒ½æ˜¯ fulfilled æ‰è§¦å‘
    }
  }
};
</script>
```



## è”åŠ¨ä»‹ç»



è‹¥éœ€è¡¨å•å€¼ä¹‹é—´çš„è”åŠ¨ï¼Œè¯·èµ° change äº‹ä»¶,å¹¶æ‹¿åˆ° emit å‡ºæ¥çš„å€¼ï¼Œå…¥å‚æä¾›ä¸€ä¸ª context ,è§£æ„å‡ºæ¥çš„å€¼åˆ†åˆ«æ˜¯ key,newValue,oldValue,filter ï¼Œfilter æ˜¯å†…éƒ¨æŸ¥è¯¢å‚æ•°ï¼ˆéå“åº”å¼ï¼‰



```js
change({ key,newValue,oldValue,filter} ) { 
  if(key === "xxx"){
     // é…åˆæä¾›çš„ methods ä½¿ç”¨
  }
}
```



> æ­¤å¤„æä¾›ä¸€ä¸ªåŸºç¡€ç¤ºä¾‹ï¼Œ
>
> å¯ä»¥é€šè¿‡ ref æ¥è°ƒç”¨è¯¥ç»„ä»¶çš„æ–¹æ³•ï¼Œé€šè¿‡changeæä¾›çš„ç²¾ç¡®èƒ½åŠ›ï¼Œå¯æ”¹åŠ¨ filter çš„å€¼ï¼Œäº¦å¯æ”¹å˜ selectã€checkboxGroupã€radioGroup ç»„ä»¶çš„options å€¼ï¼Œè§ [æ¨èé˜…è¯»](https://www.yuque.com/) ç« èŠ‚



# View-Brick é…ç½®



è§†å›¾ç –å—ï¼Œä¼šéšä¼ å…¥çš„æ•°ç»„itemçš„é¡ºåºæ¥è¿›è¡Œæ¸²æŸ“ã€‚è¿™ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨è§†å›¾ç –å—ä¸­ä½ å¯ä»¥æ ¹æ®ç –å—çš„å¤§å°æ¥åˆç†å®‰æ’ç –å—æ‰€åœ¨çš„ä½ç½®ï¼ˆåœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼‰æ¥å†³å®šæœ€ç»ˆæ¸²æŸ“çš„å¸ƒå±€ï¼Œè¾¾åˆ°ç –å—çš„åŸºæœ¬å¯¹é½ã€‚



![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1603856321393-2fd0420a-17de-4f98-9f41-10adbfbc8ea5.png?x-oss-process=image%2Fresize%2Cw_1500)



## æœ€ç®€å•çš„ä½¿ç”¨



åªéœ€æä¾› key ä¸ label ï¼Œå¯ç”Ÿæˆè¾“å…¥æ¡†

```js
{
  key: "vendorId",
  label: "ä¾›åº”å•†ID",
}
```



ç”Ÿæˆå¦‚ä¸‹æ‰€ç¤º input ï¼š

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1599182413556-9e9ec418-7dca-46ef-a851-e1cf3db002e0.png)



## ä¸å®Œå…¨é…ç½®æ¦‚è§ˆ



```js
/* eslint-disable*/
/* åŠ å…¥è¡¨å•æ ¡éªŒå™¨ */
import { phoneNumberValidator } from "./validator";

/* è‡ªå®šä¹‰çº§åˆ« ç»„ä»¶ */
import custom from "./components/custom.vue"
import testRange from "./components/testRange.vue"

export default [
  {
    key: "vendorId",
    label: "ä¾›åº”å•†ID",
  },
  {
    key:"vendorCode",
    label:"ä¾›åº”å•†ç¼–å·",
    component:"input",
    default:20200819
  },
  {
    key:"vendorPhoneNumber",
    label:"ä¾›åº”å•†æ‰‹æœºå·",
    component:"input",
    rules: [{ validator: phoneNumberValidator, trigger: "blur" }],
    default:"13973140494"
  },
  {
    key:"vendorType",
    label:"ä¾›åº”å•†ç±»å‹",
    component:"select",
    multiple: true,
    options:[
      {
        text:"è”¬èœä¾›åº”å•†",
        value:"VEGETABLE"
      },
      {
        text:"å¸¸è§„ä¾›åº”å•†",
        value:"SIMPLE"
      }
    ],
    default:[],
    rules: [{ required: true, message:"ç±»å‹å¿…é€‰", trigger: "change" }]
  },
  {
    key: "signInTime",
    label: "æ³¨å†Œæ—¶é—´",
    component:"picker",
    type: "datetime",
    //default: "2020-07-08"
  },
  {
    key: "vendorXTimeStart",
    label: "ä¾›åº”å•†ç‰›é€¼æ—¶é—´ï¼ˆèµ·ï¼‰",
    component:"picker",
    type: "datetime",
    default: "2020-07-12 00:00:00"
  },
  {
    key: "vendorXTimeEnd",
    label: "ä¾›åº”å•†ç‰›é€¼æ—¶é—´ï¼ˆæ­¢ï¼‰",
    component:"picker",
    type: "datetime",
    default: "2020-08-25 23:59:59"
  },
  {
    key: ["tmApplyStart","tmApplyEnd"],
    label: "ä¾›åº”å•†å…¥é©»ç”³è¯·æ—¶é—´",
    component:"picker",
    type: "datetimerange",
    default: ["2020-07-08 00:00:00","2020-07-08 00:00:00"],
    timeBetween:true,
    limit:3
  },
  {
    key:"search",
    label:"æœç´¢ç”¨æˆ·",
    component:custom,
    default:"334"
  }
];
```



## input



ç”¨äºç”Ÿæˆ input è¾“å…¥æ¡†ï¼ŒæŒ‡å®š`component:"input"` å³å¯ï¼Œä¸æŒ‡å®šé»˜è®¤æ¸²æŸ“ä¸º input ç±»å‹

| å±æ€§åç§°  | è¯´æ˜                 | ç±»å‹             | é»˜è®¤å€¼  |
| --------- | -------------------- | ---------------- | ------- |
| key       | å­—æ®µå               | String           | æ—       |
| label     | labelåç§°            | String           | æ—       |
| component | æœ€ç»ˆæ¸²æŸ“æˆä»€ä¹ˆ       | String           | "input" |
| default   | é»˜è®¤å€¼               | String \| Number | æ—       |
| rules     | æ ¡éªŒè§„åˆ™             | Array            | æ—       |
| ttrs      | åŸç”Ÿå±æ€§è¯·ä¼ å…¥åœ¨è¿™é‡Œ | Object           | æ—       |



## select



ç”¨äºç”Ÿæˆ select ä¸‹æ‹‰æ¡†ï¼Œæ”¯æŒè¿œç¨‹æ•°æ®æºé…ç½®ï¼Œä¼ å…¥åè‡ªåŠ¨è¯·æ±‚ï¼Œè¿”å›ä½“æä¾› `fit()` æ–¹æ³•ï¼Œéœ€è¦å¤„ç†æ ¼å¼ä¸º `return [{text:"",value:""}]`

| å±æ€§åç§°  | è¯´æ˜           | ç±»å‹              | é»˜è®¤å€¼   |
| --------- | -------------- | ----------------- | -------- |
| key       | å­—æ®µå         | String            | æ—        |
| label     | labelåç§°      | String            | æ—        |
| component | æœ€ç»ˆæ¸²æŸ“æˆä»€ä¹ˆ | String            | "select" |
| default   | é»˜è®¤å€¼         | Array             | æ—        |
| rules     | æ ¡éªŒè§„åˆ™       | Array             | æ—        |
| options   | ä¸‹æ‹‰æ¡†å¯é€‰å€¼   | Array \| Function | [ ]      |



### options

ç±»å‹æ”¯æŒï¼š

- Array
- Function



### options  - Array

```
{
  options:[
    {
        text:"",
      value:""
    },
    {
        text:"",
      value:""
    },
  ]
}
```

### options - Function <Promise> 

```
{
    options:() => {
    const url = "/api/vendorCityEnumList"
    const params =  { enumType: "VENDOR_CITY" }
    /* ä¸€å®šè¦è¿”å›ä¸€ä¸ªpromise */
    return new Promise(resolve => {
      axios.post(url, params).then(res => {
        /* é¢„å…ˆå¤„ç†å¥½ res ï¼Œresè¦ç¬¦åˆæ ¼å¼ï¼Œéœ€æ˜¯ [{text:"",value:""}] çš„å½¢å¼*/
        /* ä¸€å®šè¦è®°å¾— resolve() å‡ºå»*/
        resolve(res.data.data)
      })
    })
  }
}
```

> æ¨èä½¿ç”¨è¿™ä¸ªç”¨æ³•ï¼Œä½†æœ‰ä¸ªé—®é¢˜ï¼Œæ¥å£è¿”å›çš„æ•°æ®ä¸€èˆ¬æ˜¯éœ€è¦é‡æ–°map çš„ï¼Œå› æ­¤ä½ å¯èƒ½éœ€è¦ mapper è¿™ä¸ªä¸“é—¨ä¸ºoptionsæœåŠ¡çš„ç‰¹æ®Šå±æ€§
>
> map æ˜ å°„è¡¨çš„ä½¿ç”¨åœºæ™¯è§  [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## radioGroup

é…ç½®ä¸select ä¸€è‡´ï¼ŒåŒæ ·æ”¯æŒæœ¬åœ°é™æ€æ•°æ®ã€è‡ªå®šä¹‰è¿œç¨‹æ•°æ®è¯·æ±‚ï¼Œé™åˆ¶ä¸ºå•é€‰

é¢å¤–çš„é…ç½®ï¼šisButton è®¾ç½® radio æ˜¯å¦ä¸º button æ ·å¼ <Boolean>

## checkboxGroup

é…ç½®ä¸select ä¸€è‡´ï¼ŒåŒæ ·æ”¯æŒæœ¬åœ°é™æ€æ•°æ®ã€è‡ªå®šä¹‰è¿œç¨‹æ•°æ®è¯·æ±‚ï¼Œé™åˆ¶ä¸ºå¤šé€‰

é¢å¤–çš„é…ç½®ï¼šisButton è®¾ç½® checkbox æ˜¯å¦ä¸º button æ ·å¼ <Boolean>

## picker



ç”¨äºç”Ÿæˆ `["date","daterange","datetime","datetimerange"]` ç±»å‹çš„ pickerï¼Œå¦‚éœ€è¦å…¶å®ƒç±»å‹çš„ picker è¯·èµ° `component`  é…ç½®

| å±æ€§åç§°           | è¯´æ˜                                                         | ç±»å‹                                   | é»˜è®¤å€¼   |
| ------------------ | ------------------------------------------------------------ | -------------------------------------- | -------- |
| key                | å­—æ®µåï¼Œrange ç±»å‹æ—¶è¯·ä½¿ç”¨ Array                             | String \| Array                        | æ—        |
| label              | labelåç§°                                                    | String                                 | æ—        |
| component          | æœ€ç»ˆæ¸²æŸ“æˆä»€ä¹ˆ                                               | String                                 | "picker" |
| default            | é»˜è®¤å€¼                                                       | String \| Array \|Date \| Numberæ—¶é—´æˆ³ | æ—        |
| rules              | æ ¡éªŒè§„åˆ™                                                     | Array                                  | æ—        |
| type               | date \| daterange \| datetime \| datetimerange \| year \| month | String                                 | æ—        |
| timeBetween        | ç±»å‹ä¸ºdatetimerange çš„æ—¶å€™ å¼€å§‹æ—¶é—´ä¸º 00:00:00ï¼Œç»“æŸä¸º 23:59:59 | Boolean                                | false    |
| limit              | rangeç±»å‹çš„æ—¶é—´ æœ€å¤šä¸ºå¤šå°‘ å¤©ï¼ˆå•ä½ï¼‰                        | Number ï¼ˆintï¼‰                         | /        |
| sameDayTimeBetween | ç±»å‹ä¸ºdatetimerange çš„æ—¶å€™é€‰æ‹©åŒä¸€å¤©æ—¶è‡ªåŠ¨åº”ç”¨timeBetweenæ•ˆæœ | Boolean                                | false    |



## switch

switch é»˜è®¤é‡‡ç”¨ el-checkbox è¿›è¡Œæ¸²æŸ“ï¼Œä¸”æ— æ³•æ”¹å˜ï¼Œå› æ­¤ä½ çœ‹åˆ°çš„æ ·å¼æ˜¯å›ºå®šä¸ºè¿™æ ·çš„ï¼š

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1602580414004-83bd1c92-b82d-4475-bf91-84ed0e465fe3.png)





| å±æ€§åç§°       | è¯´æ˜           | ç±»å‹             | é»˜è®¤å€¼  |
| -------------- | -------------- | ---------------- | ------- |
| key            | å­—æ®µå         | String           | æ—       |
| label          | labelåç§°      | String           | æ—       |
| component      | æœ€ç»ˆæ¸²æŸ“æˆä»€ä¹ˆ | String \| Object | "input" |
| default        | é»˜è®¤å€¼         | String \| Number | æ—       |
| rules          | æ ¡éªŒè§„åˆ™       | Array            | æ—       |
| allowableValue | å…è®¸çš„å€¼       | Array            |         |



> ä¸é…ç½® allowableValue æ—¶ï¼Œé»˜è®¤å‹¾é€‰ä¸º true ï¼Œä¸å‹¾é€‰ä¸º false ï¼Œå¦‚éœ€å…¶å®ƒå€¼è¯·é…ç½® allowableValue

```
{
    key:"isOpen",
    label:"ä»…æ˜¾ç¤ºå·®å¼‚æ•°æ®",
    component:"switch",
    default:"ç‰›é€¼",
    allowableValue:["ç‰›é€¼","ä¸ç‰›é€¼"]
}
```

> allowableValue:[true,false]   -- ç¦æ­¢è¿™ä¹ˆåš

## `component` `<Object>`



æœ¬ç»„ä»¶é»˜è®¤æ²¡æä¾›çš„è¡¨å•ç±»å‹ æˆ– å¤æ‚çš„è¡¨å•è¾“å…¥ï¼Œä½ éƒ½å¯ä»¥é€šè¿‡ import è¿›æ¥ï¼Œç„¶åä¼ å…¥ï¼Œæ³¨æ„ï¼ æ–°åŠ å…¥çš„è¡¨å•æ— éœ€é™„ä¸Š `el-form-item`

ç¤ºä¾‹ä»£ç  :

```js
{
    key:"search",
    label:"æœç´¢ç”¨æˆ·",
    component:CustomComponent, // import CustomComponent from "xxx"
    default:"334" // é»˜è®¤å€¼,
  	props:{} // ä¼ å€¼ç»™ä½ çš„è‡ªå®šä¹‰ç»„ä»¶
}
```



## `component` `<Object>`è‡ªå®šä¹‰ç»„ä»¶çš„åŒå‘æ•°æ®æµæ–¹å¼ï¼š



ä¸‰è¦ç´ :æ¥æ”¶çˆ¶çº§å€¼ã€ç›‘å¬æœ¬åœ°å€¼ã€ç›‘å¬çˆ¶çº§å€¼

```javascript
<template>
      <el-input placeholder="è¯·è¾“å…¥å†…å®¹" v-model="lovalVal">
          <el-button slot="append" icon="el-icon-search"></el-button>
      </el-input>
</template>
<script>
export default {
    name:"CustomComponent",
    props:{
        vModel:[String] //ç¡®å®šä½ çš„è‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ï¼Œä¸ view-brick çš„ defaultä¸­æŒ‡å®šé»˜è®¤å€¼ç±»ä¸€è‡´
    },
    data(){
        return {
            lovalVal:""
        }
    },
    watch:{
        lovalVal(newval){
            /* å·²åœ¨ç»„ä»¶å†…éƒ¨æ³¨å…¥changeæ–¹æ³•ï¼Œæ­¤ç»„ä»¶åªéœ€emitï¼Œè¡¨å•ä¸­å°±èƒ½æ¥æ”¶åˆ°æ­¤è‡ªå®šä¹‰ç»„ä»¶çš„å€¼ */
            /* è‡ªå®šä¹‰çš„ç»„ä»¶ï¼Œä¸€å®šè¦æœ‰è¿™ä¸€æ­¥ï¼Œçˆ¶å­ç»„ä»¶çš„é€šè®¯é çš„å°±æ˜¯ emit */
            this.$emit("change",newval) 
        },
        vModel:{
            immediate:true, // æ¥æ”¶é»˜è®¤å€¼æ—¶å¿…é¡»ä½¿ç”¨ immediate
            handler:function (newval){
                this.lovalVal = newval
            }
        }
    }
}
</script>
```



> props ä¸€å®šè¦æ¥æ”¶ vModel
>
> vModelï¼Œæä¾›é»˜è®¤å€¼æ—¶å¿…é¡»ä½¿ç”¨watch é«˜çº§ç”¨æ³•ï¼Œè®¾ç½®ç«‹å³æ‰§è¡Œï¼Œæˆ–è€…åœ¨ mounted ä¸­æ‰‹åŠ¨èµ‹å€¼ç»™æœ¬åœ°å˜é‡ï¼Œ
>
> localval ï¼Œè¿™ä¸ªåå­—éšä¾¿èµ·ï¼Œ
>
> éœ€è¦å“åº”å¼æ•°æ®å°±å¿…é¡» emit æ³¨å…¥çš„ change äº‹ä»¶



# å…³äºæŒ‰é’®



![image](https://cdn.nlark.com/yuque/0/2020/png/1185510/1598088762455-cf79e5a0-81fe-4bb1-87db-e08cf196145d.png)



- é‡ç½® å°±æ˜¯ default ç»™çš„æ˜¯ä»€ä¹ˆå€¼ï¼Œç‚¹äº†åå°±æ˜¯ä»€ä¹ˆå€¼
- æ¸…ç©ºå°±æ˜¯æ‰€æœ‰çš„å€¼éƒ½ä¸ºåŸå§‹å½¢æ€ ï¼ˆå·²åœ¨æ–°ç‰ˆæœ¬ä¸­å¼ƒç”¨ï¼‰
- å±•å¼€å…¨éƒ¨æ˜¯å› ä¸º è¡¨å•è¿‡å¤§çš„æƒ…å†µä¸‹æŠŠæœ‰æ•ˆæ•°æ®åŒºåŸŸéƒ½æŒ¡ä½äº†ï¼Œè¿™ä¸ªæŒ‰é’®å¯ä»¥éšè—ã€æ˜¾ç¤ºæ‚¬æµ®æ¡†ï¼Œï¼ˆå¤§äºä¸¤æ¡é…ç½®æ—¶ è‡ªåŠ¨å°†å†…å®¹æ¸²æŸ“åœ¨ ä¸‹æ–¹æ‚¬æµ®åŒºåŸŸï¼‰(æ–°ç‰ˆæœ¬ä¸­å·²æ”¹å˜æ ·å¼)



# æ³¨æ„äº‹é¡¹

- **å…³äº key**

> åœ¨é…ç½®"ç –å—"çš„keyçš„æ—¶å€™,è¯·ä¸è¦é‡å¤ï¼Œå¦åˆ™å°†è¢«è¦†ç›–
>
> [ { key:"accountNumber" },{ key:"accountNumber" } ] âŒ



- çº¦å®šdate çš„ç±»å‹ä¸º "yyyy-MM-dd" ,çº¦å®šdatetime çš„ç±»å‹ä¸º "yyyy-MM-dd HH:mm:ss" ,
- ä¸è¦å°†rangeç±»å‹çš„pickerä½œä¸ºè‡ªå®šä¹‰ç»„ä»¶é€‰é¡¹ï¼Œå¦åˆ™æ¸…ç©ºæŒ‰é’®æ— æ³•åšåˆ°æ¸…ç©ºè¯¥ç –å—çš„"è¡¨é¢å€¼"ï¼Œï¼ˆå®é™…å€¼å·²æ¸…ç©ºï¼Œä½†æ˜¯elementä¸­çš„ displayValue ä¸­è¿˜æœ‰å€¼ï¼Œå¯èƒ½æ˜¯eleçš„bugï¼‰

> component: rangepicker   è¯·ä¸è¦è¿™ä¹ˆå¹²ï¼Œå†…éƒ¨å·²ç»æœ‰å¯ç”¨çš„é…ç½®  âŒ
>
> { component:"date",type="daterange" }  æ¨è âœ…

- ç»™range ç±»å‹çš„picker èµ‹å€¼é»˜è®¤å€¼æ—¶ä½ å¿…é¡»ä¼ å…¥ä¸€ä¸ªç¬¦åˆçº¦å®šæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™åˆå€¼ä¼šæŠ¥é”™ï¼Œå¦‚ ï¼š

> Tue Sep 15 2020 10:59:23 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)  ä½ ç­‰ç€æŠ¥é”™å§âŒï¼ˆæ–°ç‰ˆæœ¬å·²ä¿®å¤ï¼‰
>
> 2020-09-15 10:59:23   é€šè¿‡ âœ…



- **å…³äºå±æ€§çš„é€ä¼ **

> åŸåˆ™ä¸Šä¸å…è®¸ä½¿ç”¨é¢å¤–çš„é…ç½®ï¼Œä½†å¼€è¿™ä¸ªåé—¨ä¹Ÿæ˜¯æé«˜äº†æœ¬ç»„ä»¶çš„è¦†ç›–åœºæ™¯ï¼Œå±æ€§é€ä¼ åªé€‚ç”¨äºä¸€å±‚çš„é€ä¼ ï¼Œæ¯”å¦‚ä¼ é…ç½®ç»™ el-select æ— æ³•é€ä¼ åˆ° el-option ä¸Šé¢ï¼Œä¼ é…ç½®ç»™ el-checkbox-group æ— æ³•é€ä¼ åˆ° el-checkboxä¸Šï¼Œel-radio-groupäº¦ç„¶ã€‚

- **å…³äºåŠ¨æ€ä¿®æ”¹ view-brick**

> å·²å®ç°å¯åŠ¨æ€ä¿®æ”¹ view-brick ï¼Œä»£ä»·æ˜¯éƒ¨åˆ†è¡¨å•é‡æ–°æ¸²æŸ“ï¼ˆæ ¹æ®ä¿®æ”¹çš„ä¸åŒå¯èƒ½é€ æˆbrick-filterå†…éƒ¨å…¨éƒ¨è¡¨å•çš„é‡æ–°æ¸²æŸ“ï¼‰ã€‚
>
> é‡æ–°æ¸²æŸ“çš„è‹¥ä¸ºåŠ¨æ€è¿œç¨‹æ•°æ®çš„è¡¨å•ï¼Œåˆ™è¯·æ±‚ä¼šå¦‚æœŸæ‰§è¡Œï¼Œä½†æ— æ³•è§¦å‘è¯·æ±‚å®Œæˆåçš„ allDone äº‹ä»¶ï¼ŒallDone æ—¶é—´åªåœ¨åˆæ¬¡è½½å…¥è¡¨å•åæ‰§è¡Œï¼Œç›¸å½“äº mounted åçš„å¦å¤–ä¸€ä¸ªäº‹ä»¶
>
> æ³¨æ„ ï¼š åŠ¨æ€ä¿®æ”¹ view-brick ä¸­çš„ æŸä¸€å…ƒç´ ï¼ˆè¯¥å…ƒç´ æ˜¯ä¸ªå¯¹è±¡ï¼‰çš„æŸä¸ªå±æ€§ï¼Œæ— æ³•ç”Ÿæ•ˆï¼Œå› ä¸º vue å¯¹æ•°ç»„å˜åŒ–ç›‘å¬çš„åŸå› ï¼Œè¯·æ‰‹åŠ¨ä½¿ç”¨ splice pop ç­‰çœŸæ­£å½±å“åˆ°æ•°ç»„ length çš„æ–¹æ³•æ¥è¿›è¡Œæ”¹åŠ¨ã€‚ä½ å¯ä»¥å…ˆå°†è¦æ”¹åŠ¨çš„å…ƒç´ ä¿å­˜èµ·æ¥æ‹·è´ä¸€ä»½ï¼Œå°†è¯¥å…ƒç´ ä»æ•°ç»„ä¸­åˆ é™¤åï¼Œè¿›è¡Œä¿®æ”¹ï¼Œå†è¿›è¡Œæ’å…¥ï¼ˆè¯´ç™½äº†å°±æ˜¯æƒ³åŠ¨æ€ä¿®æ”¹view-brick å¹¶è¦å–å¾—ä½œç”¨å°±å¥½å¥½æƒ³æƒ³vueæ˜¯å¦‚ä½•å¤„ç†æ•°ç»„çš„ï¼‰



# æ¨èé˜…è¯»



### å°†æšä¸¾çŠ¶æ€äº¤ç»™brick-filterç®¡ç†

ä½ åªéœ€è¦ç‰ºç‰²çœ‹ä¸€éå¦‚ä½•ä½¿ç”¨promiseçš„æ–¹å¼æ¥ç®¡ç†æšä¸¾åˆ—è¡¨çš„æ—¶é—´ï¼Œè¿™æ ·å¸¦æ¥çš„å¥½å¤„ï¼š

- åªå…³å¿ƒæ•°æ®ï¼Œä¸“æ³¨
- æ¥å£æ–¹é¢åˆ©äºç»´æŠ¤ï¼Œæ¯”å¦‚è¿™ä¸ªæšä¸¾æ¥å£ä»¥åè¦ä¸‹æ‰ï¼Œæˆ‘åªéœ€è¦å»æ‰ä¸€ä¸ª view-brickçš„itemå°±è¡Œ
- å¯å‡†ç¡®çš„åœ¨æ•´ä¸ªè¡¨å•éƒ½å®Œæˆæ•°æ®è¯·æ±‚ï¼Œå¹¶ä¸”æ¸²æŸ“å®Œæˆåè§¦å‘ allDone äº‹ä»¶



### options - Function<Promise> 



![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1600914541321-61f9b2d3-0df6-49f0-8085-0f2bd91bdcea.png)

è¿™ç§åœºæ™¯ä¸‹çš„æƒ…å†µæˆ‘åªéœ€è¦ç”¨åˆ°æ¥å£ä¸­çš„  areaId å’Œ areaName,è¡ç”Ÿå‡ºæ¥çš„ optionsçš„å†™æ³•å¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼š

```js
options: () => {
  return new Promise( resolve => {
			Api.getAreaNameEnumList().then( res => {
      if(res && res.rspCode === "success"){
        let arr = res.data.map( item => {
          return {
            text:item.areaName,
            value:item.areaId
          }
        })
        resolve(arr)
      }
    })
  })
}
```

ç›¸å½“äºæˆ‘æ— æ„ä¸­åˆå¤šäº† 6 - 8 è¡Œçš„ä¸‘é™‹çš„ä»£ç ï¼ŒåŠ å…¥ä¸€ä¸ªæ˜ å°„è¡¨ mapper æ¥è§£å†³ ï¼Œæœ€ç»ˆçš„ä»£ç  ç¤ºæ„å›¾ä¸ºä¸‹ï¼š



```js
{
  ...,
  options: () => {
    return new Promise( resolve => {
			Api.getAreaNameEnumList().then( res => {
        res && res.rspCode === "success" && resolve(res.data)
        reject()
      })
    })
  },
  mapper:{
    "areaName":"text",
    "areaId":"value"
  }
}
```

> è¿™æ ·ä»¥æ¥ç®€å•æ˜äº†å¤šäº†

```js
function fetch_city() {
  const url = "/api/vendorCityNbEnumList"
  const params =  { enumType: "VENDOR_CITY" }
  /* ä¸€å®šè¦è¿”å›ä¸€ä¸ªpromise */
  return new Promise(resolve => {
    axios.post(url, params).then(res => {
      /* é¢„å…ˆå¤„ç†å¥½ res ï¼Œresè¦ç¬¦åˆæ ¼å¼ï¼Œéœ€æ˜¯ [{text:"",value:""}] çš„å½¢å¼*/
      /* ä¸€å®šè¦è®°å¾— resolve() å‡ºå»*/
      resolve(res.data)
      
      /* è‹¥ä¸æƒ³åœ¨æ­¤å¤„mapå¢åŠ ä»£ç ï¼Œå¯ä»¥ç›´æ¥æŒ‰ç…§è§„åˆ™çº¦å®šä¸€ä¸ªmapper ,
      åˆ™æ­¤æ—¶resolveå‡ºå»çš„ä¸€å®šæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„æ•°ç»„å¯¹è±¡*/
      /**
       * mapper ä¸­çš„ key - value éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š
       * @key ä¸ºæ¥å£è¿”å›çš„å¯¹è±¡ ï¼Œ<String>
       * @value ä¸ºéœ€è¦æ˜ å°„æˆçš„ text or value ï¼Œ<String>
       * */
    })
  })
}
```

###  

### @allDone å–ä»£ä½ çš„ mounted ä¸­è°ƒç”¨åˆ—è¡¨æ•°æ®

æƒ…å†µå¦‚ä¸‹å›¾ï¼Œéœ€è¦åœ¨è·å–åˆ°åŒºåŸŸçš„å’ŒçŠ¶æ€çš„æšä¸¾å†è¯·æ±‚å¯ä»¥åœ¨çŠ¶æ€äº¤ç»™view-brickç®¡ç†åï¼Œç›‘å¬allDoneç»„ä»¶è½»æ¾å®ç°ï¼š**å‰ææ˜¯å°†ä½ çš„æšä¸¾æ•°æ®çŠ¶æ€äº¤ç»™ view-brick ç®¡ç†**



# ![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1601274391963-a1384232-1d9d-4b3a-bdfd-8482605297a2.png?x-oss-process=image%2Fresize%2Cw_1500)



ä»£ç ç¤ºæ„ï¼š

```js
methods: {
    filterAllDone(filter){
      alert("è¿™é‡Œæ˜¯all done å‡½æ•°çš„å›è°ƒ 666")
      this.queryParams = _.cloneDeep(filter)
      this.getList()
    },
    async getList() {
      const params = {
        ...this.queryParams,
        page: this.page.num,
        rows: this.page.size,
      };
      api.getPageList().then( () => {
                //      ...
      }).catch()
    }
}
```

### å…³äºç§¯æ/æ¶ˆæçš„ allDone äº‹ä»¶

è¿™ä¸ªéœ€æ±‚åœºæ™¯çš„å‰ç½®è¦æ±‚æ˜¯ä½ æ„¿æ„å°† select ã€check/radio Groupè¿™äº›ç±»å‹çš„ options promiseçŠ¶æ€äº¤ç»™ç»„ä»¶ç®¡ç†ï¼Œåœ¨ promiseå®Œæˆåè§¦å‘è°ƒç”¨çš„æ–¹æ³•æœ‰æ‰€ä¸åŒï¼Œåˆ†åˆ«ä½¿ç”¨ Promise.all / Promise.allSettledå®ç°ï¼Œä¸‹é¢è¯¦ç»†è¯´æ˜ä¸‹åŒºåˆ«



- **allDone [ç§¯æçš„]** ï¼Œåœ¨è¡¨å•æ¸²æŸ“å®Œæˆåï¼Œä¸”æ‰€æœ‰è·å–optionsæ•°æ®çš„è¯·æ±‚ï¼ˆPromiseï¼‰éƒ½è¾¾åˆ° edçŠ¶æ€ï¼ˆfulfilledï¼Œrejectedï¼‰å°±ä¼šè¢«è§¦å‘
- **negativeAllDone [æ¶ˆæçš„]**ï¼Œåœ¨è¡¨å•æ¸²æŸ“å®Œæˆåï¼Œä¸”æ‰€æœ‰è·å–optionsæ•°æ®çš„è¯·æ±‚ï¼ˆPromiseï¼‰éƒ½è¾¾åˆ° fulfilled çŠ¶æ€ï¼Œæ‰ä¼šè¢«è§¦å‘



### å…³äº options çš„ setter ä¸  getter



æœ‰æ—¶ä½ æƒ³è¦ç‚¹å‡»æŸä¸ªä¸‹æ‹‰æ¡†ï¼Œè¯¥ä¸‹æ‹‰æ¡†è§¦å‘change äº‹ä»¶åæ”¹å˜å¦å¤–ä¸€ä¸ª ä¸‹æ‹‰æ¡†çš„optionsï¼ˆå³æ¸²æŸ“çš„å€¼ï¼‰ï¼Œæ‰¾ä¸åˆ°æ­£æ¼ç«çš„æ—¶å€™æ€ä¹ˆåŠï¼Œåˆ«æ‹…å¿ƒï¼Œæœ‰å¯¹åº”çš„ref äº‹ä»¶å¯ä»¥è°ƒç”¨



- getOpionsMap
- setOpionsMap



ä½¿ç”¨ç¤ºä¾‹ï¼šå½“key ä¸º vendorCity çš„å€¼æ”¹å˜æ—¶ ï¼Œä¿®æ”¹ vendorArea çš„å³å°†æ¸²æŸ“çš„å€¼ã€‚

```js
<template>
  <brick-filter
      ref="amaz-filter"
      :view-brick="filterView"
      @change="handleChange"
    />
</template>
<script>
export default {
  
  methods:{
    handleChange({ key, newVal, oldVal, filter }) {
      if (key === 'vendorCity') {
        this.$refs["amaz-filter"].setOptionsMap("vendorArea",[{
          text:"ç‰›é€¼",
          value:"nb"
        }])
      }
    }
  }
}
</script>
 this.$refs["amaz-filter"].getOptionsMap() // è¿™ä¸ªæ–¹æ³•è¿”å›æ‰€æœ‰çš„options
 this.$refs["amaz-filter"].getOptionsMap("areaId") // è¿™ä¸ªæ–¹æ³•åªè¿”å›areaIdçš„listæ•°æ®
```

> æ³¨æ„ï¼æ­¤æ—¶è·å–åˆ°çš„ options å·²ç»å»é™¤å“åº”å¼ç»‘å®šï¼Œå¦‚æ­¤è®¾è®¡æ˜¯æºäºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ get çš„ç‰¹æ€§



### selectç±»å‹è¡¨å•å–ç¬¬ä¸€é¡¹ä¸ºé»˜è®¤å€¼

å…³é”®å‡½æ•° setReactiveFilter

```js
handleAllDone(){
    this.setupDefaultForSelect()
},
setupDefaultForSelect(){
    const map = this.$refs['amaz-filter'].getOptionsMap('vendorCity')
    this.$refs["amaz-filter"].setReactiveFilter("vendorCity",[map[0].value ])
},
```



> ä¿é™©èµ·è§è°ƒç”¨setReactiveFilterå‡½æ•°æ—¶ ç¡®ä¿åœ¨allDone äº‹ä»¶ä¸­è¿›è¡Œ,è¿™æ ·ç¡®ä¿èƒ½æ‹¿åˆ°è¿œç¨‹æ¥å£çš„å€¼ï¼Œè¿™ä¸ªç¤ºä¾‹ä¸­å±•ç¤ºäº†ç»™ vendorCity å±æ€§èµ‹å€¼çš„æ–¹æ³•ï¼ˆç¤ºä¾‹ä¸­çš„ vendorCity æ˜¯å¤šé€‰é¡¹ï¼Œå³ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼‰ï¼ŒsetReactiveFilter å†…éƒ¨å·²å¼€å¯å‚æ•°ç±»å‹æ ¡éªŒï¼Œå¿…é¡»å‚æ•°ç±»å‹ä¸€è‡´æ‰å…è®¸èµ‹å€¼
>
> âš ï¸ åœ¨ä½¿ç”¨allDone æ—¶é—´çš„æ—¶å€™åŒºåˆ†æ˜¯ç§¯æçš„è¿˜æ˜¯æ¶ˆæçš„ï¼Œä»¥å…ä½¿ç”¨setReactiveFilterå‘ç”Ÿæ„å¤–



### å…³äºå¸ƒå±€å¯¹é½

è§†å›¾ç –å—ï¼Œä¼šéšä¼ å…¥çš„æ•°ç»„itemçš„é¡ºåºæ¥è¿›è¡Œæ¸²æŸ“ã€‚è¿™ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨è§†å›¾ç –å—ä¸­ä½ å¯ä»¥æ ¹æ®ç –å—çš„å¤§å°æ¥åˆç†å®‰æ’ç –å—æ‰€åœ¨çš„ä½ç½®ï¼ˆåœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼‰æ¥å†³å®šæœ€ç»ˆæ¸²æŸ“çš„å¸ƒå±€ï¼Œè¾¾åˆ°ç –å—çš„åŸºæœ¬å¯¹é½ã€‚æ•ˆæœå¦‚ä¸‹ï¼š

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1603856321393-2fd0420a-17de-4f98-9f41-10adbfbc8ea5.png?x-oss-process=image%2Fresize%2Cw_1500)

å¦‚æœä½ æ˜¯ä¸€ä¸ªå¼ºè¿«ç—‡æ‚£è€…ï¼Œè¦å¯¹é½å°±å½»åº•åœ°å¯¹é½ï¼šä½¿ç”¨ col:2 å³å¯è·¨åˆ—åŠ å®½

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1185510/1607594588555-ef994f10-43ae-4bdb-a52a-38e6f14e9a29.png?x-oss-process=image%2Fresize%2Cw_1500)



```js
  {
    key: "vendorCitys",
    label: "ä¾›åº”å•†æ‰€åœ¨åŸå¸‚s",
    component: "checkboxGroup",
    options: fetch_city,
    isButton:true,
    col: 2,
    mapper:{
      "areaName":"text",
      "areaId":"value",
    }
  },
```

> rangeç±»å‹çš„è¡¨å•å·²é»˜è®¤è·¨2åˆ— ï¼Œå¹¶ä¸” col å±æ€§å¯ä¸ºæµ®ç‚¹å‹ï¼ï¼ï¼

### æ²¡æœ‰ä½ æƒ³è¦çš„é…ç½®ï¼Ÿ

ä½œä¸ºä¸€ä¸ªåé—¨ï¼Œå½“ç„¶ç•™äº†ä¸€æ‰‹ï¼Œé‚£å°±æ˜¯å±æ€§çš„ é€ä¼ ä¸merge ï¼Œæœ¬ç»„ä»¶çš„å®—æ—¨æ˜¯ã€ çº¦å®šå¤§äºé…ç½®ã€‘ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨éœ€è¦å°†å±æ€§è¿›è¡Œç¨è®¸ä¿®æ”¹çš„æƒ…å†µã€‚é€šè¿‡ä¸‹é¢è¿™ä¸ªç¤ºä¾‹æ¥äº†è§£ï¼Œä½ å¯ä»¥ä¼ å…¥ç¬¦åˆ element-ui filterç»„ä»¶çš„æ‰€æœ‰é…ç½®ã€‚



- æ¯”å¦‚ï¼šç¦ç”¨è¡¨å•

```js
{
    key: "vendorId",
    label: "ä¾›åº”å•†ID",
    default:"123456",
    disabled:true,
}
```

- æ¯”å¦‚ï¼šæŸ¥è¯¢æ—¶é—´éœ€è¦å¿…é€‰

```js
{
    key: ["tmApplyStart","tmApplyEnd"],
    label: "ä¾›åº”å•†å…¥é©»ç”³è¯·æ—¶é—´",
    component:"picker",
    type: "datetimerange",
    clearable: false, // æ­¤æ—¶åªéœ€è¦è®¾ç½®è¿™ä¸ªå°±è¡Œï¼Œå› ä¸ºå†…éƒ¨ç»„ä»¶çº¦æŸä¸º true
    timeBetween:true,
    limit:3
},
```

... etc 